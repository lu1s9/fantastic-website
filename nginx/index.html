<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/main.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <title>lu1s9 blog</title>
  </head>
  <body>
    <header class="header">
      <nav class="navbar">
        <ul class="navbar-links">
          <li class="navbar-logo"><a href="https:&#x2F;&#x2F;lu1s09.xyz">lu1s9</a></li>
          <li class="navbar-link">
            <a href="https://github.com/lu1s9"
              ><i class="ri-github-fill"></i
            ></a>
        </ul>
      </nav>
    </header>
    <div class="container">

<!-- MAIN CONTENT START -->
<main class="main">
  <h1 class="post-title">Publicar sitio web con Nginx y Docker</h1>
  <p class="post-date">
    Mayo 07,2023
  </p>

  <!-- LIST_TAGS START -->
  <ul class="post-tags">
    <li class="post-tag">
      <a href="https://lu1s09.xyz/tags/debian/"
        >#debian</a
      >
    </li>
    
    <li class="post-tag">
      <a href="https://lu1s09.xyz/tags/docker/"
        >#docker</a
      >
    </li>
    
    <li class="post-tag">
      <a href="https://lu1s09.xyz/tags/nginx/"
        >#nginx</a
      >
    </li>
    
    <li class="post-tag">
      <a href="https://lu1s09.xyz/tags/vps/"
        >#vps</a
      >
    </li>
    </ul>
  <!-- LIST_TAGS END -->

  <h2 id="ingresar-al-servidor">Ingresar al servidor</h2>
<p>Dentro de una terminal ingresa el siguiente comando:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">ssh</span><span> root@misitio.xyz
</span></code></pre>
<p>Esto intentará acceder a tu servidor pidiendo una contraseña para el
usuario root. Puedes reemplazar <code>misitio.xyz</code> con el nombre de tu dominio
previamente adquirido y <a href="https://lu1s09.xyz/dns/">configurado</a> o con la dirección
IP del servidor.</p>
<h2 id="instalar-docker">Instalar Docker</h2>
<p>Puedes instalar el motor de Docker para un servidor Debian a partir de el
repositorio como se indica en la 
<a href="https://docs.docker.com/engine/install/debian/#install-using-the-repository">documentación oficial</a>.</p>
<p>Si no quieres usar el prefijo <em>sudo</em> para ejecutar comandos docker, necesitas
agregar tu usuario al grupo <code>docker</code> como se muestra en la 
<a href="https://docs.docker.com/engine/install/linux-postinstall/">documentación</a>.</p>
<h2 id="contenedor-nginx-proxy">Contenedor Nginx proxy</h2>
<p>Crear un contenedor con esta 
<a href="https://hub.docker.com/r/nginxproxy/nginx-proxy">imagen</a> de Docker generará
la configuración de Nginx adecuada cuando se inician o detienen 
contenedores. Acompañado de esta 
<a href="https://hub.docker.com/r/nginxproxy/acme-companion">imagen</a>, generará y
renovará los certificados SSL.</p>
<p>Puedes considerar el siguiente <a href="https://github.com/lu1s9/vigilant-docker/tree/main/nginx-proxy-acme">ejemplo</a>
,cambiando el nombre de <code>.env.example</code> a <code>.env</code>, añadiendo tu correo a la 
variable <code>DEFAULT_EMAIL</code> de dicho archivo y crear los contenedores mencionados 
con <code>docker compose up -d</code>.</p>
<p>A este correo llegarán avisos de certificados que estan próximos a caducar.</p>
<h2 id="contenedor-de-pagina-web">Contenedor de página web</h2>
<p>De la misma manera, cambia el nombre del archivo <code>.env.example</code> a <code>.env</code>,
añade el dominio o subdominio correspondiente a las variables <code>VIRTUAL_HOST</code> y 
<code>LETSENCRYPT_HOST</code> del siguiente 
<a href="https://github.com/lu1s9/vigilant-docker/tree/main/website">ejemplo</a>.</p>
<p>Finalmente crea el contenedor con <code>docker compose up -d</code>.</p>
<p>Ahora puedes actualizar el contenido dentro del directorio <code>src</code> y el 
cambio se verá reflejado cuando ingreses tu dominio en el navegador web.</p>

</main>
<!-- MAIN CONTENT END -->

</div>
    <footer class="footer">
      <p class="footer-logo">lu1s9</p>
    </footer>
  </body>
</html>
